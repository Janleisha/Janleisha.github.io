<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Köln Nightscape 1.0</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<script src='https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v2.8.2/mapbox-gl.css' rel='stylesheet' />

<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>

    #menu {
        background: #29334d;
        position: absolute;
        z-index: 1;
        top: 9px;
        right: 50px;
        border-radius: 6px;
        width: 120px;
        border: 1px solid rgba(117, 117, 117, 0.4);
        font-family: 'Open Sans', sans-serif;
    }

    #menu a {
        font-size: 13px;
        color: #7f8287;
        display: block;
        margin: 0;
        padding: 0;
        padding: 10px;
        text-decoration: none;
        border-bottom: 1px solid rgba(0, 0, 0, 0.25);
        text-align: center;
    }

    #menu a:last-child {
        border: none;
    }

    #menu a:hover {
        background-color: #4a72c2;
        color: #fffae3;
    }

    #menu a.active {
        background-color: #2a55ac;
        color: #fffae3;
    }

    #menu a.active:hover {
        background: #1c3a78;
    }

</style>
</head>
<body>

<nav id="menu"></nav>
<div id='map'></div>

<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiamFubGVpc2hhIiwiYSI6ImNsMm5iM2J0YjAxYWgzZHM0bHpvZXRmZmIifQ.9kNz7Df-6APw6z9gfNlYcA';
const map = new mapboxgl.Map({attributionControl: false,
    container: 'map', // container ID
    style: 'mapbox://styles/janleisha/cl2q8zr8w001t14mfyjepakwb', // style URL
    center: [6.958714, 50.937059], // starting position [lng, lat]
    zoom: 13.55 // starting zoom
});

    // Add custom attribution to the map.
    map.addControl(new mapboxgl.AttributionControl({
        customAttribution: 'Map design by Jada Hung Jui Yu 洪睿妤',
        compact: true
    }));

    // Add fullscreen control to the map.
    map.addControl(new mapboxgl.FullscreenControl({container: document.querySelector('body')}));

    // Add geolocate control to the map.
    map.addControl(
        new mapboxgl.GeolocateControl({
            positionOptions: {
                enableHighAccuracy: true
            },
            // When active the map will receive updates to the device's location as it changes.
            trackUserLocation: true,
            // Draw an arrow next to the location dot to indicate which direction the device is heading.
            showUserHeading: true
    }));

    // Add zoom and rotation controls to the map.
    map.addControl(
        new mapboxgl.NavigationControl({
            visualizePitch: true,
            showCompass: true,
            showZoom: true
    }));

     
// Wait until the map has finished loading. Menu source linking.
map.on('load', function () {

        map.addSource('Media Lights', {
            type: 'vector',
            url: 'mapbox://janleisha.cysfsxfe'
        });
        map.addLayer({
            "id": "Media Lights",
            "type": "circle",
            "metadata": {"mapbox:group": "ed14d49d217ccd2788fff73014b79120"},
            "source": "composite",
            "source-layer": "Mapping_the_City_Light-_Media-2osf87",
            "layout": {"visibility": "visible"},
            "paint": {
                "circle-color": "hsl(178, 100%, 93%)",
                "circle-blur": [
                    "interpolate",
                    ["exponential", 0.9],
                    ["zoom"],
                    0,
                    7,
                    22,
                    0.7
                ],
                "circle-radius": [
                    "interpolate",
                    ["exponential", 1],
                    ["zoom"],
                    0,
                    0.5,
                    22,
                    18
                ]
            }
        });

        map.addSource('Color Lights', {
            type: 'vector',
            url: 'mapbox://janleisha.844znyup'
        });
        map.addLayer({
            "id": "Color Lights",
            "type": "circle",
            "metadata": {"mapbox:group": "086f29dc8e1de405c51013fb9186a83e"},
            "source": "composite",
            "source-layer": "Mapping_the_City_Light-_Untit-b0s68j",
            "layout": {"visibility": "visible"},
            "paint": {
                "circle-color": [
                    "match",
                    ["get", "description"],
                    ["Pink neon"],
                    "hsl(311, 100%, 57%)",
                    ["Purplish pink"],
                    "hsl(287, 100%, 82%)",
                    ["Pale pink light"],
                    "hsl(334, 100%, 87%)",
                    ["2600K flood"],
                    "hsl(41, 100%, 75%)",
                    ["Red light"],
                    "hsl(0, 100%, 54%)",
                    ["2700K facade light"],
                    "hsl(48, 100%, 78%)",
                    ["4000K uplight"],
                    "hsl(191, 100%, 96%)",
                    ["2400K restaurant "],
                    "hsl(36, 100%, 68%)",
                    ["Blue gradient media facade spilling light"],
                    "hsl(212, 100%, 60%)",
                    ["Red"],
                    "hsl(0, 100%, 56%)",
                    ["All 3000K spill light"],
                    "hsl(48, 100%, 94%)",
                    ["Castle 2600K flood light"],
                    "hsl(42, 100%, 70%)",
                    ["Gaffes Kölsch sign Blue spill"],
                    "hsl(214, 100%, 44%)",
                    ["Spilled 3000K"],
                    "hsl(55, 100%, 88%)",
                    ["Neon green"],
                    "hsl(103, 100%, 53%)",
                    ["3000K yellowish spill light"],
                    "hsl(58, 100%, 83%)",
                    ["Saturn orange "],
                    "hsl(28, 100%, 59%)",
                    ["Blue uplights"],
                    "hsl(204, 100%, 61%)",
                    "hsl(0, 0%, 31%)"
                ],
                "circle-radius": 30,
                "circle-blur": 2
            }
        });

        map.addSource('3D Building', {
            type: 'fill-extrusion',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "3D Building",
            "type": "fill-extrusion",
            "metadata": {"mapbox:group": "58649e4c17fa7a0920465130066111f9"},
            "source": "composite",
            "source-layer": "building",
            "minzoom": 14.5,
            "filter": [
                "all",
                ["==", ["get", "underground"], "false"],
                ["!=", ["get", "extrude"], "false"]
            ],
            "layout": {"visibility": "visible"},
            "paint": {
                "fill-extrusion-color": [
                    "interpolate",
                    ["exponential", 1.1],
                    ["zoom"],
                    14,
                    "hsl(220, 18%, 31%)",
                    20,
                    "hsl(220, 18%, 46%)"
                ],
                "fill-extrusion-height": ["get", "height"],
                "fill-extrusion-opacity": [
                    "interpolate",
                    ["exponential", 1.35],
                    ["zoom"],
                    14.5,
                    0.3,
                    20,
                    0.9
                ]
            }
        });

        map.addSource('Light Posters', {
            type: 'vector',
            url: 'mapbox://janleisha.5ng3phpe'
        });
        map.addLayer({
            "id": "Light Posters",
            "type": "circle",
            "metadata": {"mapbox:group": "ed14d49d217ccd2788fff73014b79120"},
            "source": "composite",
            "source-layer": "Mapping_the_City_Light-_CLP_T-7bei5n",
            "layout": {"visibility": "visible"},
            "paint": {
                "circle-radius": [
                    "interpolate",
                    ["exponential", 0.8],
                    ["zoom"],
                    0,
                    0.2,
                    12.43,
                    5,
                    22,
                    18
                ],
                "circle-color": "hsl(59, 98%, 100%)",
                "circle-blur": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    0,
                    2,
                    22,
                    1.2
                ]
            }
        });

        map.addSource('Lane Diffuse 2', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Lane Diffuse 2",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 13,
            "maxzoom": 14,
            "filter": [
                "all",
                [
                    "step",
                    ["zoom"],
                    false,
                    14,
                    [
                        "match",
                        ["get", "class"],
                        ["secondary_link", "tertiary_link"],
                        true,
                        false
                    ]
                ],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 14, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    0,
                    5,
                    20,
                    30
                ],
                "line-color": "#ffe3a3",
                "line-blur": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    0,
                    1,
                    22,
                    36
                ],
                "line-gap-width": [
                    "interpolate",
                    ["exponential", 1.2],
                    ["zoom"],
                    0,
                    0.75,
                    22,
                    30
                ]
            }
        });

        map.addSource('Lane Diffuse 1', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Lane Diffuse 1",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 13,
            "filter": [
                "all",
                [
                    "match",
                    ["get", "class"],
                    ["street", "street_limited", "primary_link"],
                    true,
                    false
                ],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 16, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    10,
                    2,
                    20,
                    30
                ],
                "line-color": "#ffe3a3",
                "line-gap-width": [
                    "interpolate",
                    ["exponential", 1.2],
                    ["zoom"],
                    10,
                    0.75,
                    20,
                    20
                ],
                "line-opacity": [
                    "interpolate",
                    ["exponential", 0.7],
                    ["zoom"],
                    13,
                    0,
                    16,
                    0.8,
                    19,
                    1
                ],
                "line-blur": [
                    "interpolate",
                    ["exponential", 0.9],
                    ["zoom"],
                    15,
                    20,
                    20,
                    30
                ]
            }
        });
  
        map.addSource('Main Diffuse 2', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Main Diffuse 2",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 10,
            "filter": [
                "all",
                [
                    "match",
                    ["get", "class"],
                    ["secondary", "tertiary"],
                    true,
                    false
                ],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 14, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-color": "hsl(42, 100%, 88%)",
                "line-gap-width": [
                    "interpolate",
                    ["exponential", 1.6],
                    ["zoom"],
                    5,
                    0.75,
                    19.5,
                    30
                ],
                "line-blur": [
                    "interpolate",
                    ["exponential", 1.6],
                    ["zoom"],
                    0,
                    1,
                    20,
                    45
                ],
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    10,
                    2,
                    20,
                    50
                ],
                "line-opacity": [
                    "interpolate",
                    ["exponential", 0.75],
                    ["zoom"],
                    12,
                    0,
                    20,
                    0.8
                ]
            }
        });
  
        map.addSource('Main Diffuse 1', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Main Diffuse 1",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 10,
            "filter": [
                "all",
                ["==", ["get", "class"], "primary"],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 17, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    10,
                    2,
                    20,
                    50
                ],
                "line-color": "#ffedc2",
                "line-gap-width": [
                    "interpolate",
                    ["exponential", 1.6],
                    ["zoom"],
                    5,
                    0.75,
                    19.5,
                    20
                ],
                "line-blur": [
                    "interpolate",
                    ["exponential", 1.6],
                    ["zoom"],
                    0,
                    1,
                    20,
                    45
                ],
                "line-opacity": [
                    "interpolate",
                    ["exponential", 0.75],
                    ["zoom"],
                    12,
                    0,
                    20,
                    0.8
                ]
            }
        });

        map.addSource('Motorway Diffuse', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Motorway Diffuse",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 5,
            "filter": [
                "all",
                ["match", ["get", "class"], ["motorway", "trunk"], true, false],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 14, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    10,
                    2,
                    20,
                    50
                ],
                "line-color": "#ffedc2",
                "line-gap-width": [
                    "interpolate",
                    ["exponential", 1.6],
                    ["zoom"],
                    5,
                    0.75,
                    19.5,
                    30
                ],
                "line-opacity": [
                    "interpolate",
                    ["exponential", 0.75],
                    ["zoom"],
                    12,
                    0,
                    20,
                    0.8
                ],
                "line-blur": [
                    "interpolate",
                    ["exponential", 1.6],
                    ["zoom"],
                    0,
                    1,
                    20,
                    40
                ]
            }
        });

        map.addSource('Lane Recolor 2', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Lane Recolor 2",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 11,
            "maxzoom": 14,
            "filter": [
                "all",
                [
                    "match",
                    ["get", "class"],
                    ["street", "street_limited", "primary_link"],
                    true,
                    false
                ],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 14, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    12,
                    0.5,
                    14,
                    2,
                    18,
                    18
                ],
                "line-color": "hsla(33, 25%, 14%, 0.45)"
            }
        });

        map.addSource('Lane Recolor 1', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Lane Recolor 1",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 13,
            "filter": [
                "all",
                [
                    "match",
                    ["get", "class"],
                    ["street", "street_limited", "primary_link"],
                    true,
                    false
                ],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 14, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    12,
                    0.5,
                    14,
                    2,
                    18,
                    18
                ],
                "line-color": "hsla(33, 25%, 14%, 0.45)",
                "line-opacity": ["step", ["zoom"], 0, 14, 1]
            }
        });

        map.addSource('Lane Light 2', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Lane Light 2",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 11,
            "maxzoom": 14,
            "filter": [
                "all",
                [
                    "match",
                    ["get", "class"],
                    ["street", "street_limited", "primary_link"],
                    true,
                    false
                ],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 14, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    12,
                    0.5,
                    14,
                    2,
                    18,
                    18
                ],
                "line-color": "#ffe3a3",
                "line-opacity": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    0,
                    1,
                    15,
                    0.3
                ],
                "line-gap-width": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    0,
                    0.5,
                    14,
                    2,
                    18,
                    18
                ],
                "line-blur": ["interpolate", ["linear"], ["zoom"], 16, 5, 22, 5]
            }
        });

        map.addSource('Lane Light 1', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Lane Light 1",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 13,
            "filter": [
                "all",
                [
                    "match",
                    ["get", "class"],
                    ["street", "street_limited", "primary_link"],
                    true,
                    false
                ],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 14, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    12,
                    0.5,
                    14,
                    2,
                    18,
                    18
                ],
                "line-color": "#ffe3a3",
                "line-opacity": [
                    "interpolate",
                    ["exponential", 0.5],
                    ["zoom"],
                    15,
                    1,
                    22,
                    0.3
                ],
                "line-blur": ["interpolate", ["linear"], ["zoom"], 16, 5, 22, 5]
            }
        });

        map.addSource('Roadway Overlay 3', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Roadway Overlay 3",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 8,
            "filter": [
                "all",
                [
                    "match",
                    ["get", "class"],
                    ["secondary", "tertiary"],
                    true,
                    false
                ],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 14, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    5,
                    0.1,
                    18,
                    26
                ],
                "line-color": "hsl(225, 37%, 23%)"
            }
        });

        map.addSource('Roadway Overlay 2', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Roadway Overlay 2",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 6,
            "filter": [
                "all",
                ["==", ["get", "class"], "primary"],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 14, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    5,
                    0.75,
                    18,
                    32
                ],
                "line-color": "hsl(225, 37%, 23%)"
            }
        });

        map.addSource('Roadway Overlay 1', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Roadway Overlay 1",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "filter": [
                "all",
                ["match", ["get", "class"], ["motorway", "trunk"], true, false],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 13, "round"],
                "line-join": ["step", ["zoom"], "miter", 13, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    5,
                    0.75,
                    18,
                    32
                ],
                "line-color": "hsl(225, 37%, 23%)"
            }
        });

        map.addSource('Main Street Light 2', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Main Street Light 2",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 8,
            "filter": [
                "all",
                [
                    "match",
                    ["get", "class"],
                    ["secondary", "tertiary"],
                    true,
                    false
                ],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 14, "round"],
                "line-join": ["step", ["zoom"], "miter", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    5,
                    0.1,
                    18,
                    32
                ],
                "line-color": "#ffe5a8",
                "line-blur": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    16,
                    5,
                    22,
                    10
                ],
                "line-opacity": [
                    "interpolate",
                    ["exponential", 0.5],
                    ["zoom"],
                    13,
                    1,
                    22,
                    0.3
                ]
            }
        });

        map.addSource('Main Street Light 1', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Main Street Light 1",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 6,
            "filter": [
                "all",
                ["==", ["get", "class"], "primary"],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 16, "round"],
                "line-join": ["step", ["zoom"], "bevel", 14, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    5,
                    0.75,
                    18,
                    32
                ],
                "line-color": "#ffe5a8",
                "line-opacity": [
                    "interpolate",
                    ["exponential", 0.5],
                    ["zoom"],
                    13,
                    1,
                    22,
                    0.3
                ],
                "line-blur": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    16,
                    5,
                    22,
                    10
                ]
            }
        });

        map.addSource('Motorway Light', {
            type: 'line',
            url: 'mapbox://mapbox.mapbox-streets-v8'
        });
        map.addLayer({
            "id": "Motorway Light",
            "type": "line",
            "metadata": {"mapbox:group": "610b206d974bc452cfbcf47283f752f1"},
            "source": "composite",
            "source-layer": "road",
            "minzoom": 5,
            "filter": [
                "all",
                ["match", ["get", "class"], ["motorway", "trunk"], true, false],
                ["match", ["get", "structure"], ["none", "ford"], true, false],
                ["==", ["geometry-type"], "LineString"]
            ],
            "layout": {
                "line-cap": ["step", ["zoom"], "butt", 13, "round"],
                "line-join": ["step", ["zoom"], "miter", 13, "round"]
            },
            "paint": {
                "line-width": [
                    "interpolate",
                    ["exponential", 1.5],
                    ["zoom"],
                    5,
                    0.75,
                    18,
                    32
                ],
                "line-color": "#ffedc2",
                "line-opacity": [
                    "interpolate",
                    ["exponential", 0.5],
                    ["zoom"],
                    15,
                    1,
                    22,
                    0.5
                ],
                "line-blur": [
                    "interpolate",
                    ["linear"],
                    ["zoom"],
                    16,
                    5,
                    22,
                    10
                ]
            }
        });

        map.addSource('Ambience', {
            type: 'line',
            url: 'mapbox://janleisha.cl3svvbl501vn28o7ar8wuikv-5tsnl'
        });
        map.addLayer({
            "id": "Ambience",
            "type": "circle",
            "metadata": {"mapbox:group": "1c3c3cc8f3ba93a230ad57ab581d36ee"},
            "source": "composite",
            "source-layer": "main_street_ambience",
            "minzoom": 11,
            "layout": {},
            "paint": {
                "circle-radius": [
                    "interpolate",
                    ["exponential", 1.3],
                    ["zoom"],
                    11,
                    1,
                    13,
                    5,
                    14,
                    12,
                    17,
                    72,
                    20,
                    180
                ],
                "circle-color": [
                    "case",
                    [
                        "match",
                        ["get", "Cologne"],
                        [
                            "Main Carway 2900K",
                            "Fastway Lower 2900K",
                            "Fastway Top 2900K",
                            "Fastway Upper 2900K",
                            "Main Carway split 2900K"
                        ],
                        true,
                        false
                    ],
                    "#fff6e5",
                    [
                        "match",
                        ["get", "Cologne"],
                        ["Main Carway 2800K"],
                        true,
                        false
                    ],
                    "#ffecb8",
                    [
                        "match",
                        ["get", "Barbarossa"],
                        ["Platz 2800K"],
                        true,
                        false
                    ],
                    "#ffecb8",
                    [
                        "match",
                        ["get", "Barbarossa"],
                        ["nach 2750K"],
                        true,
                        false
                    ],
                    "#ffe29e",
                    ["match", ["get", "Appelhofplatz"], ["2750K"], true, false],
                    "#ffe29e",
                    [
                        "match",
                        ["get", "Breslauer"],
                        ["Main 2900K", "Tunnel 2900K"],
                        true,
                        false
                    ],
                    "#fff6e5",
                    ["match", ["get", "Chlodwigplatz"], ["2750K"], true, false],
                    "#ffe29e",
                    [
                        "match",
                        ["get", "Dom"],
                        ["vor Dom 2800K", "nach Dom 2800K"],
                        true,
                        false
                    ],
                    "#ffecb8",
                    ["match", ["get", "Ebertplatz"], ["2850K"], true, false],
                    "#fff7e0",
                    [
                        "match",
                        ["get", "Friesenplatz"],
                        ["outer ring 2800K"],
                        true,
                        false
                    ],
                    "#ffecb8",
                    [
                        "match",
                        ["get", "Hansaring"],
                        ["Main 2800K"],
                        true,
                        false
                    ],
                    "#ffecb8",
                    [
                        "match",
                        ["get", "Heumarkt"],
                        ["Fastway 2800K"],
                        true,
                        false
                    ],
                    "#ffecb8",
                    [
                        "match",
                        ["get", "Heumarkt"],
                        ["Carway 2900K"],
                        true,
                        false
                    ],
                    "#fff6e5",
                    [
                        "match",
                        ["get", "Heumarkt"],
                        ["commercial 3000K"],
                        true,
                        false
                    ],
                    "#fffaf0",
                    ["match", ["get", "Neumarkt"], ["ring 3000K"], true, false],
                    "#fff6e5",
                    ["match", ["get", "Pohligstrasse"], ["2800K"], true, false],
                    "#ffecb8",
                    [
                        "match",
                        ["get", "Rudolfplatz"],
                        ["triangle 2600K"],
                        true,
                        false
                    ],
                    "#ffd061",
                    [
                        "match",
                        ["get", "Rudolfplatz"],
                        ["bar Straße ", "dining Strasse "],
                        true,
                        false
                    ],
                    "hsl(42, 100%, 58%)",
                    [
                        "match",
                        ["get", "Severinstrasse"],
                        ["Carway 2800K"],
                        true,
                        false
                    ],
                    "#ffecb8",
                    ["match", ["get", "Sulz"], ["Main 2800K"], true, false],
                    "#ffecb8",
                    ["match", ["get", "Ulrepforte"], ["2650K"], true, false],
                    "hsl(42, 100%, 72%)",
                    ["match", ["get", "Zollstock"], ["sub 2800K"], true, false],
                    "#ffecb8",
                    [
                        "match",
                        ["get", "Zulpicher"],
                        ["main 2850K"],
                        true,
                        false
                    ],
                    "#fff1cc",
                    "#ffdc8a"
                ],
                "circle-blur": 2.5,
                "circle-opacity": [
                    "case",
                    ["match", ["get", "Sulz"], ["Main 2800K"], true, false],
                    0.4,
                    [
                        "match",
                        ["get", "Barbarossa"],
                        ["Platz 2800K"],
                        true,
                        false
                    ],
                    1,
                    ["match", ["get", "Chlodwigplatz"], ["2750K"], true, false],
                    1,
                    [
                        "match",
                        ["get", "Breslauer"],
                        ["Main 2900K"],
                        true,
                        false
                    ],
                    1,
                    ["match", ["get", "Dom"], ["vor Dom 2800K"], true, false],
                    1,
                    ["match", ["get", "Dom"], ["joint 2700K"], true, false],
                    0.2,
                    ["match", ["get", "Ebertplatz"], ["2700K"], true, false],
                    0.5,
                    [
                        "match",
                        ["get", "Eifelstrasse"],
                        ["loose 2700K"],
                        true,
                        false
                    ],
                    0.3,
                    ["match", ["get", "Eifelstrasse"], ["2700K"], true, false],
                    0.5,
                    [
                        "match",
                        ["get", "Friesenplatz"],
                        ["sub 2700K"],
                        true,
                        false
                    ],
                    0.5,
                    [
                        "match",
                        ["get", "Friesenplatz"],
                        ["main 2700K"],
                        true,
                        false
                    ],
                    1,
                    [
                        "match",
                        ["get", "Friesenplatz"],
                        ["outer ring 2800K"],
                        true,
                        false
                    ],
                    0.35,
                    [
                        "match",
                        ["get", "Heumarkt"],
                        ["commercial 3000K"],
                        true,
                        false
                    ],
                    1,
                    [
                        "match",
                        ["get", "Heumarkt"],
                        ["Fastway 2800K"],
                        true,
                        false
                    ],
                    0.5,
                    [
                        "match",
                        ["get", "Heumarkt"],
                        ["Carway 2900K"],
                        true,
                        false
                    ],
                    0.7,
                    ["match", ["get", "Neumarkt"], ["ring 3000K"], true, false],
                    1,
                    ["match", ["get", "Pohligstrasse"], ["2800K"], true, false],
                    0.5,
                    [
                        "match",
                        ["get", "Rudolfplatz"],
                        ["triangle 2600K", "bar Straße "],
                        true,
                        false
                    ],
                    1,
                    ["match", ["get", "Ulrepforte"], ["2650K"], true, false],
                    0.6,
                    [
                        "match",
                        ["get", "Cologne"],
                        [
                            "Main Carway 2900K",
                            "Fastway Lower 2900K",
                            "Fastway Top 2900K",
                            "Fastway Upper 2900K",
                            "Main Carway split 2900K",
                            "Main Carway 2800K"
                        ],
                        true,
                        false
                    ],
                    0.6,
                    ["match", ["get", "Zollstock"], ["sub 2800K"], true, false],
                    0.5,
                    [
                        "match",
                        ["get", "Zulpicher"],
                        ["main 2850K"],
                        true,
                        false
                    ],
                    1,
                    ["match", ["get", "Zulpicher"], ["sub 2750K"], true, false],
                    0.7,
                    0.85
                ]
            }
        });

    });


    map.on('idle', () => {

        if (!map.getLayer('Color Lights') ||!map.getLayer('Media Lights') || !map.getLayer('Light Posters') || !map.getLayer('3D Building')) {
            return;
        }

        // Enumerate ids of the layers.
        const toggleableLayerIds = ['Color Lights', 'Media Lights', 'Light Posters', '3D Building'];

        // Set up the corresponding toggle button for each layer.
        for (const id of toggleableLayerIds) {
            // Skip layers that already have a button set up.
            if (document.getElementById(id)) {
                continue;
            }

            // Create a link.
            const link = document.createElement('a');
            link.id = id;
            link.href = '#';
            link.textContent = id;
            link.className = 'active';

            // Show or hide layer when the toggle is clicked.
            link.onclick = function (e) {
                const clickedLayer = this.textContent;
                e.preventDefault();
                e.stopPropagation();

                const visibility = map.getLayoutProperty(
                    clickedLayer,
                    'visibility'
                );

                // Toggle layer visibility by changing the layout object's visibility property.
                if (visibility === 'visible') {
                    map.setLayoutProperty(clickedLayer, 'visibility', 'none');
                    this.className = '';
                } else {
                    this.className = 'active';
                    map.setLayoutProperty(
                        clickedLayer,
                        'visibility',
                        'visible'
                    );
                }
            };

            const layers = document.getElementById('menu');
            layers.appendChild(link);
        }
    });
        
        var toggleableLayerIds = [ 'Lane Diffuse 2', 'Lane Diffuse 1', 'Main Diffuse 2', 'Main Diffuse 1', 'Motorway Diffuse', 'Lane Recolor 2', 'Lane Recolor 1', 'Lane Light 2', 'Lane Light 1', 'Roadway Overlay 3', 'Roadway Overlay 2', 'Roadway Overlay 1', 'Main Street Light 2', 'Main Street Light 1', 'Motorway Light', 'Ambience' ];

         var link = document.createElement('a');
        link.href = '#';
        link.className = 'active';
        link.textContent = "Street Lights";
        link.onclick = function (e) {
             for(var index in toggleableLayerIds) {
                var clickedLayer = toggleableLayerIds[index];
                e.preventDefault();
                e.stopPropagation();
  
                var visibility = map.getLayoutProperty(clickedLayer, 'visibility');
  
                if (visibility === 'visible') {
                    map.setLayoutProperty(clickedLayer, 'visibility', 'none');
                    this.className = '';
                } else {
                    this.className = 'active';
                    map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
      }
    }
    
};
var layers = document.getElementById('menu');
layers.appendChild(link);

</script>

</body>
</html>